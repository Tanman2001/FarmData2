<!DOCTYPE html>
<body>
	<div id="activePlantingReport">
		<h1 class="text-center"> Active Planting Report </h1>
		<fieldset class="panel panel-default center-block" style="width: 50%;">
			<legend class="panel-heading" style="background-color: #d62a17; color: white;"> Filters </legend>
			
			<label for="field">Field:</label> 
     				<select id="field" name="field">
					<option value="All" selected> All </option>
                			<option default-input="All"  v-for="y in transformAreaMap">{{ y }}</option>
        			</select>
			<br>
			
			<label for="crop">Crop:</label>
				<select id="crop" name="crop">
					<option value="All" selected> All </option>
					<option  v-for="x in transformCropMap">{{ x }}</option>
				</select>
							
			<br>
		
		

			<label for="log">Log Type:</label>
                                <select id="log" name="log">
                                        <option value="All" selected> All </option>
                                        <option default-input="All"  v-for="x in transformLogMap">{{ x }}</option>
                                </select>

			<br>			

			<label for="unit">Unit Type:</label>
                                <select id="unit" name="unit">
                                        <option value="All" selected> All </option>
                                        <option default-input="All"  v-for="x in transformUnitMap">{{ x }}</option>
                                </select>

			
			<div style="display: flex;width:100%; padding: 7px">

				<button @click="generateReport('yes')"> Generate Report </button>
			</div>
		</fieldset>
	<br>


	<div v-if="recordExist == 'yes'">
	<table style="width:400px" border="1">
		<tr>
			<th>Row</th>
			<th>Date</th>
			<th>Area</th>
			<th>Crop</th>
			<th>Yield</th>
			<th>Units</th>
		</tr>

		<tr v-for="(x,index) in plantTable">
			<th> {{ index + 1 }} </th>
			<th> {{ x.date }}</th>
			<th> {{ x.area }}</th>
			<th> {{ x.crop }}</th>
			<th> {{ x.yield }}</th>
			<th> {{ x.units }}</th>
		</tr>
       	   </table>
	</div>	
	</div>
	<script>
        var VueTime = new Vue({
                el: '#activePlantingReport',
		created() {
			console.log("Report created!")
			getIDToCropMap().then((theMap) => {
				this.idToCropMap=theMap;
			}),
			getIDToAreaMap().then((theMap) => {
				this.idToAreaMap=theMap;
			}),
			getIDToLogTypeMap().then((theMap) => {
				this.idToLogMap=theMap;
			}),
			getIDToUnitMap().then((theMap) => {
				this.idToUnitMap=theMap;
			})
			},
                data: {
		
			state: 'default',
			
			recordExist: 'yes',
			
			idToCropMap : [

					], 
			
			idToAreaMap: [

					],
			idToUnitMap: [

					],

			idToLogMap:  [
				
					],
		

			plantTable: [

				{
				date: '2018-05-01', area: 'Orion', crop: 'Kale', yield: '12', units: 'Bunches'
				},

				{
                                date: 'N/A', area: 'N/A', crop: 'N/A', yield: 'N/A', units: 'N/A'
                                }				
				],
			row: {
				date: 'N/A', area: 'N/A', crop: 'N/A', yield: 'N/A', units: 'N/A'
				},

			pageArr: [

				]

                },

		computed: {
			
			transformCropMap() {
				return Array.from(this.idToCropMap.values());
			},

			transformAreaMap() {
                                return Array.from(this.idToAreaMap.values());
                        },
			
			transformUnitMap() {
				return Array.from(this.idToUnitMap.values());
			},

			transformLogMap() {
				return Array.from(this.idToLogMap.values());
			}
		},

		methods: {
			

		}
        });
	Vue.config.devtools = true;

	</script>
</body>
			
